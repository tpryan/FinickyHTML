<!DOCTYPE html> 
<html> 
	<head> 
	<title>Edit - Finicky</title> 
	<link rel="stylesheet" href="css/main.css" type="text/css" media="screen" />
	<meta name="viewport"content="width=100%; initial-scale=1;  maximum-scale=1;  minimum-scale=1;   user-scalable=no;" />
	<script type="text/javascript" src="js/iscroll.js"></script>
	<script type="text/javascript" src="js/zepto.min.js"></script>
	<script type="text/javascript" src="js/finicky.js"></script>
	
	<script>

		var myScroll;
		function loaded() {
			myScroll = new iScroll('wrapper', {fadeScrollbar:false});
		}
		
		$(document).ready(function (){	
			$('#locationSelector').bind('click', toggleLocationModal);
		}
		);
		document.addEventListener('touchmove', function (e) { e.preventDefault(); }, false);
		document.addEventListener('DOMContentLoaded', setTimeout(function () { loaded(); }, 200), false);
		
		function createAutoResizingTextArea(textAreaID){
			var textArea = document.querySelector("#" + textAreaID);
			var textAreaMirror = document.createElement("p");
			textAreaMirror.setAttribute("id", "notes_content_hidden");
			document.querySelector("body").appendChild(textAreaMirror);
			
		}	
	
		function resizeTextArea(){
			var content = document.querySelector("#notes_content");
			var container = document.querySelector("#notes_content_hidden");
			
			container.innerText = content.value;
			content.style.height = container.offsetHeight + "px";
			
		}

		function toggleLocationModal(e){
			e.preventDefault(); 
			$('#locationModal').show();
			$('#locationModal').css('opacity', "1");
			$('#locationModal').css('-moz-opacity', "1");



		}


	</script>	
	 
    
</head> 
<body id="edit" onload="createAutoResizingTextArea('notes_content')"> 
	
	<form id="editForm" action="" method="get">
		<label>What did you find?</label>
		<input id="item" name="item" value="Cloves"/ ><br />
		
		<label>Where did you find it?</label>
		<input id="place" name="place" value="Holts's Cigar Company"/ ><br />
		
		<a id="locationSelector" href="">1522 Walnut Street</a><br />

		<div id="locationModal">
			<div id="wrapper">
				<ul id="placeList">
					<li><a href="">1522 Walnut Street</a></li>
					<li><a href="">1523 Walnut Street</a></li>
					<li><a href="">1524 Walnut Street</a></li>
					<li><a href="">1525 Walnut Street</a></li>
					<li><a href="">1525 Walnut Street</a></li>
					<li><a href="">Add Manually</a></li>
				</ul>
			</div>
		</div>

		
		<div id="selectors">
			<div>
				<a id="photoSelector" href=""></a>
			</div>
			<div>
				<a id="noteSelector" href=""></a>
			</div>
		</div>
		<br />
		<div id="notes">
			<textarea id="notes_content" onkeyup="resizeTextArea()">
				
			</textarea>
		</div>
		
	</form>



	
	<footer id="androidStaticMenu">
		<menu>
			<a href="">Save</a>
			<a href="details.html">Cancel</a>
		</menu>
	</footer>
	
</body>
</html>